@page "/Dashboard"
@inject IJSRuntime JsRuntime
@inject HttpClient Http
@using JobHunt.Services.Job
@inject IJobService _JobService

<div class="mt-xxl-5 container">


    <SfDashboardLayout CellSpacing="@(new double[]{10 ,10 })" Columns="5">
        <DashboardLayoutPanels>
            <DashboardLayoutPanel>
                <ContentTemplate>
                    <div>0</div>
                </ContentTemplate>
            </DashboardLayoutPanel>
            <DashboardLayoutPanel SizeX=2 Column=1>
                <ContentTemplate>
                    <div>1</div>
                </ContentTemplate>
            </DashboardLayoutPanel>
            <DashboardLayoutPanel SizeY=2 Column=3>
                <ContentTemplate>
                    @foreach (var job in jobs)
                    {
                        <div class="e-panel-content">
                          
                            <div class="fw-bold">@job.Company</div>
                            <div>@job.DateApplied.Value.ToShortDateString()</div>
                        </div>
                    }
                </ContentTemplate>
            </DashboardLayoutPanel>
            <DashboardLayoutPanel Row=1>
                <ContentTemplate>
                    <div>3</div>
                </ContentTemplate>
            </DashboardLayoutPanel>
        
        </DashboardLayoutPanels>
    </SfDashboardLayout>
</div>

<style>
    .e-panel-content {
        text-align: center;
        margin-top: 10px;
    }
</style>

@code {
    private IEnumerable<Job> jobs;


    protected override async Task OnInitializedAsync()
    {
        jobs =  await _JobService.GetJobsAsync();
    }

}